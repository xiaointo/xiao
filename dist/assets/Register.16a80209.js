import{k,m as f,u as P,c as A,w as o,r as n,o as I,a as e,q as c,s as w,h as B,j as _}from"./vendor.001f57dc.js";import{a as R}from"./index.03bb1a20.js";import{_ as V,r as $}from"./main.ee361f17.js";const q=k({name:"Register",setup(){const t=f(null),u=f(null),d=P(),a=f({telephone:null,password:null,reenteredPassword:null});function v(s,r){return!!a.value.password&&a.value.password.startsWith(r)&&a.value.password.length>=r.length}function F(s,r){return r===a.value.password}return{formRef:t,rPasswordFormItemRef:u,model:a,rules:{telephone:[{required:!0,validator(s,r){return r?/^[1]([3-9])[0-9]{9}$/.test(r)?!0:new Error("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7\uFF01"):new Error("\u8D26\u53F7/\u624B\u673A\u53F7\u4E0D\u80FD\u4E3A\u7A7A\uFF01")},trigger:["input","blur"]}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"}],reenteredPassword:[{required:!0,message:"\u8BF7\u518D\u6B21\u8F93\u5165\u5BC6\u7801",trigger:["input","blur"]},{validator:v,message:"\u4E24\u6B21\u5BC6\u7801\u8F93\u5165\u4E0D\u4E00\u81F4",trigger:"input"},{validator:F,message:"\u4E24\u6B21\u5BC6\u7801\u8F93\u5165\u4E0D\u4E00\u81F4",trigger:["blur","password-input"]}]},handlePasswordInput(){var s;a.value.reenteredPassword&&((s=u.value)==null||s.validate({trigger:"password-input"}))},handleValidateButtonClick(s){var r;s.preventDefault(),(r=t.value)==null||r.validate(i=>{i?(console.log({evt:i}),d.error("\u6CE8\u518C\u5931\u8D25")):(R.post("https://mock.yonyoucloud.com/mock/25301/register",{telephone:"19560892392",password:"123456",reenteredPassword:"123456"}).then(m=>{localStorage.setItem("token",m.data.token)},m=>{d.error("\u6CE8\u518C\u5931\u8D25")}),d.success("\u8FDB\u884C\u9A8C\u8BC1"),$.push({name:"validate"}))})}}}}),K={style:{display:"flex","justify-content":"flex-end"}},N=_(" \u6CE8\u518C "),S=_("\u56DE\u5230\u9996\u9875"),U=_(" \u5DF2\u6709\u8D26\u53F7\uFF1F"),j={style:{color:"#0091FF"}},M=_("\u7ACB\u5373\u767B\u5F55");function W(t,u,d,a,v,F){const p=n("n-input"),s=n("n-form-item"),r=n("n-button"),i=n("n-col"),m=n("n-row"),h=n("n-form"),b=n("n-divider"),g=n("router-link"),C=n("n-breadcrumb-item"),y=n("n-breadcrumb"),D=n("n-page-header"),E=n("n-card");return I(),A(E,{title:"\u6CE8\u518C",class:"Card"},{default:o(()=>[e(h,{ref:"formRef",model:t.model,rules:t.rules},{default:o(()=>[e(s,{path:"telephone",label:"\u8D26\u53F7/\u624B\u673A\u53F7"},{default:o(()=>[e(p,{value:t.model.telephone,"onUpdate:value":u[0]||(u[0]=l=>t.model.telephone=l),onKeydown:u[1]||(u[1]=c(w(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1}),e(s,{path:"password",label:"\u5BC6\u7801"},{default:o(()=>[e(p,{value:t.model.password,"onUpdate:value":u[2]||(u[2]=l=>t.model.password=l),type:"password",onInput:t.handlePasswordInput,onKeydown:u[3]||(u[3]=c(w(()=>{},["prevent"]),["enter"]))},null,8,["value","onInput"])]),_:1}),e(s,{ref:"rPasswordFormItemRef",first:"",path:"reenteredPassword",label:"\u91CD\u590D\u5BC6\u7801"},{default:o(()=>[e(p,{value:t.model.reenteredPassword,"onUpdate:value":u[4]||(u[4]=l=>t.model.reenteredPassword=l),disabled:!t.model.password,type:"password",onKeydown:u[5]||(u[5]=c(w(()=>{},["prevent"]),["enter"]))},null,8,["value","disabled"])]),_:1},512),e(m,{gutter:[0,24]},{default:o(()=>[e(i,{span:24},{default:o(()=>[B("div",K,[e(r,{disabled:t.model.telephone===null,round:"",block:"",strong:"",type:"primary",onClick:t.handleValidateButtonClick},{default:o(()=>[N]),_:1},8,["disabled","onClick"])])]),_:1})]),_:1})]),_:1},8,["model","rules"]),e(b,{dashed:""}),e(D,null,{footer:o(()=>[e(y,null,{default:o(()=>[e(C,null,{default:o(()=>[e(g,{to:"/"},{default:o(()=>[S]),_:1})]),_:1}),e(C,null,{default:o(()=>[U,B("span",j,[e(g,{to:"/login"},{default:o(()=>[M]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})}var H=V(q,[["render",W],["__scopeId","data-v-41f3dc98"]]);export{H as default};
